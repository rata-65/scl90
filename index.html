<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCL-90æµ‹è¯„æ¿€æ´»éªŒè¯</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", sans-serif;
        }
        body {
            background-color: #2196F3;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .verify-container {
            background: #fff;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            max-width: 400px;
            width: 100%;
            padding: 40px 30px;
            text-align: center;
        }
        .verify-title {
            font-size: 24px;
            color: #222;
            margin-bottom: 30px;
            font-weight: bold;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }
        .verify-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 18px;
            margin-bottom: 20px;
            text-align: center;
            outline: none;
            transition: border-color 0.2s;
            text-transform: uppercase;
        }
        .verify-input:focus {
            border-color: #2196F3;
            box-shadow: 0 0 8px rgba(33,150,243,0.2);
        }
        .verify-btn {
            width: 100%;
            padding: 15px;
            background: #2196F3;
            color: #fff;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .verify-btn:hover {
            background: #1976D2;
        }
        .verify-tip {
            color: #ff5722;
            font-size: 14px;
            margin-top: 15px;
            display: none;
        }
        .admin-btn {
            width: 100%;
            padding: 10px;
            background: #9c27b0;
            color: #fff;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            margin-top: 10px;
            display: none;
        }
        .admin-btn:hover {
            background: #7b1fa2;
        }
        /* å¤åˆ¶æŒ‰é’®æ ·å¼ */
        .copy-btn {
            padding: 5px 10px;
            background: #2196F3;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            margin-left: 10px;
        }
        .copy-btn:hover {
            background: #1976D2;
        }
    </style>
</head>
<body>
    <div class="verify-container">
        <div class="verify-title">ğŸ”‘ SCL-90æµ‹è¯„æ¿€æ´»éªŒè¯</div>
        <input type="text" class="verify-input" id="codeInput" placeholder="è¯·è¾“å…¥æ¿€æ´»ç ">
        <button class="verify-btn" onclick="checkCode()">éªŒè¯å¹¶è¿›å…¥æµ‹è¯„</button>
        <button class="admin-btn" id="adminBtn" onclick="generateAdminCode()">ğŸ“Œ ç®¡ç†å‘˜ç”Ÿæˆæ¿€æ´»ç </button>
        <div class="verify-tip" id="verifyTip">æ¿€æ´»ç é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼</div>
    </div>

    <script>
        // ========== æ ¸å¿ƒé˜²ç¯¡æ”¹ï¼šåŠ å¯†å­˜å‚¨æ¿€æ´»ç  + æ··æ·†éªŒè¯é€»è¾‘ ==========
        // 1. åŠ å¯†åˆå§‹æ¿€æ´»ç ï¼ˆä¸å¯é€†å“ˆå¸Œ+ç›å€¼ï¼Œé˜²æ­¢F12æŸ¥çœ‹æ˜æ–‡ï¼‰
        const SALT = "scl90_" + new Date().getFullYear(); // åŠ¨æ€ç›å€¼
        const PERMANENT_CODE_HASH = btoa("D329F6" + SALT); // åˆå§‹ç åŠ å¯†å­˜å‚¨
        let tempCodes = []; // ç®¡ç†å‘˜ç”Ÿæˆçš„ä¸´æ—¶ç ï¼ˆå†…å­˜å­˜å‚¨ï¼Œåˆ·æ–°å³é‡ç½®ï¼‰

        // 2. ç¦ç”¨F12/å³é”®/è°ƒè¯•å™¨ï¼ˆåŸºç¡€é˜²æŠ¤ï¼‰
        document.addEventListener('contextmenu', e => e.preventDefault()); // ç¦ç”¨å³é”®
        document.addEventListener('keydown', e => {
            // ç¦ç”¨F12ã€Ctrl+Shift+Iã€Ctrl+Uç­‰è°ƒè¯•å¿«æ·é”®
            if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I') || (e.ctrlKey && e.key === 'U')) {
                e.preventDefault();
                alert("ğŸ”’ ç¦æ­¢è°ƒè¯•ï¼Œè¯¥æ“ä½œå·²è¢«é™åˆ¶ï¼");
                keySequence = []; // æ¸…ç©ºæŒ‰é”®åºåˆ—
            }
        });

        // 3. æ£€æµ‹è°ƒè¯•å™¨ï¼ˆæ ¸å¿ƒé˜²ç¯¡æ”¹ï¼‰
        function detectDebugger() {
            const start = performance.now();
            debugger; // è°ƒè¯•å™¨æ–­ç‚¹æ£€æµ‹
            const end = performance.now();
            if (end - start > 100) { // è°ƒè¯•å™¨æ‰“å¼€æ—¶ï¼Œè€—æ—¶ä¼šæ˜¾è‘—å¢åŠ 
                document.body.innerHTML = "<h1 style='text-align:center;color:#2196F3;margin-top:50px;'>ğŸ”’ æ£€æµ‹åˆ°è°ƒè¯•å™¨è¿è¡Œï¼Œé¡µé¢å·²é”å®šï¼</h1>";
                tempCodes = []; // æ¸…ç©ºä¸´æ—¶æ¿€æ´»ç 
                return true;
            }
            return false;
        }

        // 4. æ¿€æ´»ç éªŒè¯é€»è¾‘ï¼ˆåŠ å¯†éªŒè¯ï¼Œæ— æ˜æ–‡ï¼‰
        function checkCode() {
            if (detectDebugger()) return; // æ£€æµ‹åˆ°è°ƒè¯•å™¨åˆ™é”å®š

            const inputCode = document.getElementById("codeInput").value.trim().toUpperCase();
            const verifyTip = document.getElementById("verifyTip");
            verifyTip.style.display = "none";

            // éªŒè¯åˆå§‹æ°¸ä¹…ç ï¼ˆåŠ å¯†å¯¹æ¯”ï¼Œæ— æ˜æ–‡ï¼‰
            if (btoa(inputCode + SALT) === PERMANENT_CODE_HASH) {
                window.location.href = "./Untitled-1.html";
                return;
            }

            // éªŒè¯ç®¡ç†å‘˜ç”Ÿæˆçš„ä¸´æ—¶ç ï¼ˆçº¯æ•°å­—ï¼‰
            const now = Date.now();
            const validTempCode = tempCodes.find(item => {
                return item.code === inputCode && now < item.expire;
            });

            if (validTempCode) {
             const token = btoa(`VALID_${Date.now()}_GAMEKEY`);
    localStorage.setItem("gameActivated", token);
                window.location.href = "./Untitled-1.html";
            } else {
                verifyTip.style.display = "block";
                verifyTip.innerText = validTempCode ? "æ¿€æ´»ç å·²è¿‡æœŸï¼" : "æ¿€æ´»ç é”™è¯¯ï¼";
                setTimeout(() => verifyTip.style.display = "none", 3000);
            }
        }

        // 5. ç®¡ç†å‘˜åºåˆ—æŒ‰é”®ï¼ˆGâ†’Aâ†’Dâ†’Mâ†’Iâ†’Nï¼‰
        let keySequence = [];
        const ADMIN_SEQ = ['g','a','d','m','i','n'];
        const SEQ_TIMEOUT = 3000;
        let seqTimer = null;

        document.addEventListener('keydown', function(e) {
            if (detectDebugger()) return;

            // ç®¡ç†å‘˜æŒ‰é”®åºåˆ—æ£€æµ‹
            if (/^[a-z]$/i.test(e.key)) {
                const key = e.key.toLowerCase();
                keySequence.push(key);
                clearTimeout(seqTimer);
                seqTimer = setTimeout(() => keySequence = [], SEQ_TIMEOUT);

                // åŒ¹é…ç®¡ç†å‘˜åºåˆ—
                if (JSON.stringify(keySequence.slice(-6)) === JSON.stringify(ADMIN_SEQ)) {
                    if (!detectDebugger()) {
                        document.getElementById("adminBtn").style.display = "block";
                        alert("âœ… ç®¡ç†å‘˜æ¨¡å¼å·²æ¿€æ´»ï¼");
                    }
                    keySequence = [];
                    clearTimeout(seqTimer);
                }
            }
        });

        // 6. å¤åˆ¶æ¿€æ´»ç åŠŸèƒ½
        function copyCodeToClipboard(code) {
            // åˆ›å»ºä¸´æ—¶è¾“å…¥æ¡†ç”¨äºå¤åˆ¶
            const tempInput = document.createElement('input');
            tempInput.value = code;
            document.body.appendChild(tempInput);
            tempInput.select();
            document.execCommand('copy');
            document.body.removeChild(tempInput);
            return true;
        }

        // 7. ç®¡ç†å‘˜ç”Ÿæˆ6ä½çº¯æ•°å­—ä¸´æ—¶ç ï¼ˆ3å¤©æœ‰æ•ˆï¼Œæ”¯æŒå¤åˆ¶ï¼‰
        function generateAdminCode() {
            if (detectDebugger()) return;

            // ç”Ÿæˆ6ä½çº¯æ•°å­—æ¿€æ´»ç 
            let randomCode = "";
            for (let i = 0; i < 6; i++) {
                randomCode += Math.floor(Math.random() * 10); // ä»…ç”Ÿæˆ0-9æ•°å­—
            }

            // 3å¤©æœ‰æ•ˆæœŸ
            const expire = Date.now() + 3 * 24 * 60 * 60 * 1000;
            tempCodes.push({ code: randomCode, expire: expire });

            // æ ¼å¼åŒ–è¿‡æœŸæ—¶é—´
            const expireStr = new Date(expire).toLocaleString();
            
            // æ„å»ºå¸¦å¤åˆ¶æŒ‰é’®çš„å¼¹çª—HTMLï¼ˆé€šè¿‡divæ¨¡æ‹Ÿå¼¹çª—ï¼Œæ”¯æŒå¤åˆ¶ï¼‰
            const dialogHTML = `
                <div style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;padding:20px;border-radius:8px;box-shadow:0 0 20px rgba(0,0,0,0.2);z-index:9999;text-align:left;">
                    <h3 style="margin-bottom:10px;color:#222;">âœ… ç®¡ç†å‘˜æ¿€æ´»ç ç”ŸæˆæˆåŠŸ</h3>
                    <div style="margin:10px 0;">
                        <span style="font-size:16px;font-weight:bold;">æ¿€æ´»ç ï¼š</span>
                        <span id="genCode" style="font-size:18px;color:#9c27b0;">${randomCode}</span>
                        <button class="copy-btn" onclick="copyCodeToClipboard('${randomCode}');this.innerText='å·²å¤åˆ¶'">å¤åˆ¶</button>
                    </div>
                    <div style="margin:5px 0;font-size:14px;">æœ‰æ•ˆæœŸï¼š3å¤©ï¼ˆè¿‡æœŸæ—¶é—´ï¼š${expireStr}ï¼‰</div>
                    <div style="margin-top:15px;padding-top:10px;border-top:1px solid #eee;font-size:14px;">
                        ğŸ“‹ å½“å‰æœ‰æ•ˆä¸´æ—¶ç ï¼š<br>
                        ${tempCodes.map(item => `${item.code}ï¼ˆè¿‡æœŸï¼š${new Date(item.expire).toLocaleString()}ï¼‰`).join('<br>')}
                    </div>
                    <div style="margin-top:15px;text-align:center;">
                        <button style="padding:5px 15px;background:#2196F3;color:#fff;border:none;border-radius:4px;cursor:pointer;" onclick="this.parentElement.parentElement.remove()">å…³é—­</button>
                    </div>
                </div>
                <div style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:9998;"></div>
            `;
            
            // æ’å…¥å¼¹çª—åˆ°é¡µé¢   
            document.body.insertAdjacentHTML('beforeend', dialogHTML);
        }

        // å›è½¦é”®éªŒè¯
        document.getElementById("codeInput").addEventListener('keydown', e => {
            if (e.key === 'Enter') checkCode();
        });

        // å®šæ—¶æ£€æµ‹è°ƒè¯•å™¨ï¼ˆæŒç»­é˜²æŠ¤ï¼‰
        setInterval(detectDebugger, 1000);
    </script>
</body>
</html>